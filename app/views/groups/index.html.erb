<%= notice %>
<h1>Your Groups</h1>

<table>
  <% if !@groups.empty? %>
  <% if current_user.role?(:instructor) %>
    <tr>
      <th align="left" width="200px">Group</th>
      <th align="left" width="100px">Code</th>
      <th align="left" width="100px">Edit</th>
      <th align="left" width="100px">Delete</th>
      <th align="left" width="100px">Grades</th>
    </tr>

  <% @groups.each do |group| %>
    <tr>
      <td><%= group.name %></td>
      <td><%= group.code %></td>
      <td><%= link_to 'Edit', edit_group_path(group) %></td>
      <td><%= link_to 'Delete', group, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      <td><%= link_to 'Grades', grade_group_path(group) %></td>
    </tr>
    <% end %>
  <% elsif current_user.role?(:student) %>
    <tr>
      <th>Name</th>
      <th>Instructor</th>
    </tr>

  <% @groups.each do |group| %>
    <tr>
      <td><%= group.name %></td>
      <td><%= User.find(group.instructor).name %></td>
    </tr>
  <% end %>
  <% end %>
  <% else %>
  No groups have been joined/created.
  <% end %>
</table>
<br><br>

<% if current_user.role?(:student) %>
  <%= render 'join_form' %>
<% end %>
<% if current_user.role?(:instructor) %>
<div class="span2 create-group">
  <a class="btn" href="/groups/new">Create Group</a>
</div>
<% end %>
